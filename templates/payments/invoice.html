<!-- Conteneur du ticket -->
<div class="receipt-content bg-white dark:bg-gray-800 p-6 relative overflow-hidden font-receipt">
    
    <div class="relative z-10">
        <!-- En-tête -->
        <header class="text-center pb-4 border-b-2 border-dashed border-gray-400 dark:border-gray-600">
            {% if settings.logo %}
                <img src="{{ settings.logo.url }}" alt="Logo" class="h-12 mx-auto mb-2">
            {% endif %}
            <h1 class="text-xl font-bold text-gray-900 dark:text-white">{{ settings.site_name }}</h1>
            <p class="text-xs text-gray-500 dark:text-gray-400">{{ settings.company_address }}</p>
            <p class="text-xs text-gray-500 dark:text-gray-400">{{ settings.contact_email }}</p>
        </header>

        <!-- Informations de la transaction -->
        <section class="my-4 text-sm">
            <div class="flex justify-between">
                <span class="text-gray-600 dark:text-gray-400">Facture #:</span>
                <span class="font-bold text-gray-800 dark:text-gray-200">{{ invoice.invoice_number }}</span>
            </div>
            <div class="flex justify-between">
                <span class="text-gray-600 dark:text-gray-400">Date d'émission:</span>
                <span class="font-bold text-gray-800 dark:text-gray-200">{{ invoice.issue_date|date:"d/m/Y" }}</span>
            </div>
            <div class="flex justify-between">
                <span class="text-gray-600 dark:text-gray-400">Date de Paiement:</span>
                <span class="font-bold text-gray-800 dark:text-gray-200">{{ invoice.payment.completed_at|date:"d/m/Y H:i" }}</span>
            </div>
            <div class="flex justify-between">
                <span class="text-gray-600 dark:text-gray-400">Client:</span>
                <span class="font-bold text-gray-800 dark:text-gray-200">{{ invoice.billing_name }}</span>
            </div>
        </section>

        <!-- Tableau des articles -->
        <section class="py-4 border-t-2 border-b-2 border-dashed border-gray-400 dark:border-gray-600">
            <table class="w-full text-sm">
                <thead>
                    <tr>
                        <th class="pb-2 text-left font-bold uppercase">Description</th>
                        <th class="pb-2 text-right font-bold uppercase">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <p>Cours: "{{ invoice.payment.course.title }}"</p>
                        </td>
                        <td class="text-right">{{ invoice.payment.amount }}</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Total -->
        <section class="my-4 text-sm">
            <div class="flex justify-between">
                <span class="text-gray-600 dark:text-gray-400">Sous-total:</span>
                <span>{{ invoice.payment.amount }} {{ invoice.payment.currency }}</span>
            </div>
            <div class="flex justify-between">
                <span class="text-gray-600 dark:text-gray-400">Frais:</span>
                <span>{{ invoice.payment.fees }} {{ invoice.payment.currency }}</span>
            </div>
            <div class="flex justify-between font-bold text-lg mt-2 pt-2 border-t border-dashed border-gray-400 dark:border-gray-600">
                <span>TOTAL:</span>
                <span>{{ invoice.payment.total_amount }} {{ invoice.payment.currency }}</span>
            </div>
        </section>

        <!-- Méthode de paiement et Footer -->
        <footer class="pt-4 border-t-2 border-dashed border-gray-400 dark:border-gray-600 text-center text-xs text-gray-500 dark:text-gray-400">
            <p class="text-sm mb-2">Payé via {{ invoice.payment.payment_method.name }}</p>
            <p>Merci pour votre achat !</p>
            <p>Jessna Techlearn - "Apprenez, Innovez, Réussissez"</p>
        </footer>
    </div>
    
    <!-- Filigrane "PAYÉ" -->
    <div class="absolute inset-0 flex items-center justify-center z-0">
        <span class="text-8xl font-bold text-green-500 opacity-10 dark:opacity-20 transform -rotate-12 select-none">
            PAYÉ
        </span>
    </div>
</div>
